<!DOCTYPE html>
<html lang="es">
<%- include("../partials/head") %> 
<body>
    <%- include("../partials/header") %>
    
    <main class="container auth">
        
        <h2 class="mb-5">Editando datos...</h2>
        
        <form action="/products/update/<%= product.id %>/<%= product.name %>?_method=PUT" method="POST">
            <div class="mb-3">
                <label for="name" class="form-label">Nombre del producto</label>
                <input type="text" name="name" class="form-control" id="name" value="<%= product.name %>">
            </div>

            <div class="mb-3">
                <label for="price" class="form-label">Precio</label>
                <input type="number" name="price" class="form-control" id="price" value="<%= product.price %>">
            </div>

            <div class="mb-3">
                <label for="discount" class="form-label">Descuento</label>
                <input type="number" name="discount" class="form-control" id="discount" value="<%= product.discount %>">
            </div>

            <div class="mb-3">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" name="stock" class="form-control" id="stock" value="<%= product.stock %>">
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Descripci√≥n</label>
                <textarea name="description" class="form-control" id="description" rows="3"><%= product.description %></textarea>
            </div>

            <div class="mb-3">
                <label for="category" class="form-label">Categorias</label>
                <select class="form-select" id="category" name="categoryId">
                    <option selected hidden value="<%= category.id %>"><%= category.name %></option>
                     <% category_list.forEach(item => { %>
                        <option value="<%= item.id %>"><%= item.name %></option>
                    <% }) %>  
                </select>
            </div>

            <div class="mb-3">
                <label for="subcategory" class="form-label">Subcategorias</label>
                <select class="form-select" name="subcategoryId" id="subcategory">
                    <option selected hidden value="<%= subcategory.id %>"><%= subcategory.name %></option>
                    <% subcategory_list.forEach(item => { %>
                        <option value="<%= item.id %>"><%= item.name %></option>
                    <% }) %> 
                </select>
            </div>

            <div class="mb-3">
                <label for="formFileMultiple" class="form-label">Cargar imagenes</label>
                <input class="form-control" type="file" name="img" id="formFileMultiple" multiple>
            </div>

            <div class="mb-3 d-flex">
                <% if (product.shipping) { %>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="shipping" id="shipping" checked>
                        <label class="form-check-label" for="shipping">
                          Con envio
                        </label>
                    </div>
                <% } else { %>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="shipping" id="shipping">
                        <label class="form-check-label" for="shipping">
                          Con envio
                        </label>
                    </div>
                <% } %>

                <% if (product.featured) { %>
                    <div class="form-check mx-3">
                        <input class="form-check-input" type="checkbox" name="featured" id="featured" checked>
                        <label class="form-check-label" for="featured">
                          Destacar en inicio
                        </label>
                    </div>
                <% } else { %>
                    <div class="form-check mx-3">
                        <input class="form-check-input" type="checkbox" name="featured" id="featured">
                        <label class="form-check-label" for="featured">
                          Destacar en inicio
                        </label>
                    </div>
                <% } %>
                
                <% if (product.active) { %>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="active" id="active" checked>
                        <label class="form-check-label" for="active">
                          Producto activo
                        </label>
                    </div>
                <% } else { %>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="active" id="active">
                        <label class="form-check-label" for="active">
                          Producto activo
                        </label>
                    </div>
                <% } %>
            </div>
            
            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-success"> Confirmar </button>
            </div>
        </form>
        
    </main>
    
    <%- include("../partials/footer") %> 

    <%- include('../partials/scripts') %>
</body>
</html>